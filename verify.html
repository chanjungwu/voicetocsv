    <script>
        const form = document.getElementById('verify-form');
        const submitButton = document.getElementById('submit-button');
        const resultDiv = document.getElementById('result');
        const timeInput = document.getElementById('time');

        // 【新增功能】自動格式化時間輸入
        timeInput.addEventListener('input', (e) => {
            let value = e.target.value.replace(/[^0-9]/g, ''); // 只保留數字
            if (value.length > 2) {
                value = value.substring(0, 2) + ':' + value.substring(2, 4);
            }
            e.target.value = value;
        });

        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            submitButton.disabled = true;
            submitButton.textContent = '驗證中...';
            resultDiv.style.display = 'none';
            resultDiv.className = 'result-card';

            const formData = {
                amount: document.getElementById('amount').value,
                date: document.getElementById('date').value,
                time: timeInput.value, // 直接使用 timeInput 的值
                account: document.getElementById('account').value,
                email: document.getElementById('email').value,
            };

            try {
                // 我們可以將 fetch 的路徑改回相對路徑，這樣比較標準
                const response = await fetch('/api/verify', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(formData),
                });

                const data = await response.json();

                if (response.ok) {
                    resultDiv.className = 'result-card success';
                    resultDiv.innerHTML = `
                        <h3>✅ 驗證成功！</h3>
                        <p>這是您的專屬啟用碼，請妥善保管：</p>
                        <div class="activation-code">${data.activationCode}</div>
                        <p class="small-text">我們也將啟用碼寄送至您的Email信箱作為備份。</p>
                    `;
                } else {
                    throw new Error(data.error || '發生未知錯誤');
                }
            } catch (error) {
                resultDiv.className = 'result-card error';
                resultDiv.innerHTML = `
                    <h3>❌ 驗證失敗</h3>
                    <p>${error.message}</p>
                    <p class="small-text">請檢查您輸入的資料是否與匯款紀錄完全相符。如果問題持續，請聯繫客服。</p>
                `;
            } finally {
                resultDiv.style.display = 'block';
                submitButton.disabled = false;
                submitButton.textContent = '驗證並取得啟用碼';
                resultDiv.scrollIntoView({ behavior: 'smooth' });
            }
        });
    </script>